{
  "message_name": "UBX-MON-SPT",
  "num_extractions": 7,
  "adjudication": {
    "canonical_structure": {
      "name": "UBX-MON-SPT",
      "class_id": "0x0a",
      "message_id": "0x2f",
      "description": "Sensor production test",
      "message_type": "output",
      "payload": {
        "length": {
          "variable": {
            "base": 4,
            "formula": "4 + numSensor*4 + numRes*12"
          }
        },
        "fields": [
          {
            "name": "version",
            "byte_offset": 0,
            "data_type": "U1",
            "description": "Message version (0x01 for this version)"
          },
          {
            "name": "numSensor",
            "byte_offset": 1,
            "data_type": "U1",
            "description": "Number of sensors reported in this message"
          },
          {
            "name": "numRes",
            "byte_offset": 2,
            "data_type": "U1",
            "description": "Number of result items reported in this message"
          },
          {
            "name": "reserved0",
            "byte_offset": 3,
            "data_type": "U1",
            "reserved": true,
            "description": "Reserved"
          }
        ],
        "repeated_groups": [
          {
            "name": "sensor_status",
            "repetition_type": "count_field",
            "count_field": "numSensor",
            "group_size_bytes": 4,
            "base_offset": 4,
            "fields": [
              {
                "name": "sensorId",
                "byte_offset": 0,
                "data_type": "U1",
                "description": "Sensor ID"
              },
              {
                "name": "drvVer",
                "byte_offset": 1,
                "data_type": "X1",
                "description": "Version information",
                "bitfield": {
                  "bits": [
                    {
                      "name": "drvVerMaj",
                      "bit_start": 0,
                      "bit_end": 3,
                      "description": "Driver major version"
                    },
                    {
                      "name": "drvVerMin",
                      "bit_start": 4,
                      "bit_end": 7,
                      "description": "Driver minor version"
                    }
                  ]
                }
              },
              {
                "name": "testState",
                "byte_offset": 2,
                "data_type": "U1",
                "description": "State of one sensor's test"
              },
              {
                "name": "drvFileName",
                "byte_offset": 3,
                "data_type": "U1",
                "description": "0 if the active driver is loaded from image, last character of the file name if it is loaded from separate file."
              }
            ]
          },
          {
            "name": "result_items",
            "repetition_type": "count_field",
            "count_field": "numRes",
            "group_size_bytes": 12,
            "base_offset": "4 + (numSensor * 4)",
            "fields": [
              {
                "name": "sensorIdRes",
                "byte_offset": 0,
                "data_type": "U2",
                "description": "Sensor ID"
              },
              {
                "name": "sensorType",
                "byte_offset": 2,
                "data_type": "U2",
                "description": "Sensor type and axis (if applicable) to which the result refers"
              },
              {
                "name": "resType",
                "byte_offset": 4,
                "data_type": "U2",
                "description": "The type of result stored in the value field"
              },
              {
                "name": "reserved1",
                "byte_offset": 6,
                "data_type": {
                  "array_of": "U1",
                  "count": 2
                },
                "reserved": true,
                "description": "Reserved"
              },
              {
                "name": "value",
                "byte_offset": 8,
                "data_type": "I4",
                "description": "Value of the specific test result"
              }
            ]
          }
        ]
      }
    },
    "canonical_confidence": "high",
    "extraction_verdicts": [
      {
        "source": "F9-HPS120_Interfacedescription_UBX-19056845",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-HPS-1.30_InterfaceDescription_UBX-22010984",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-LAP-1.30_InterfaceDescription_UBX-22005157",
        "verdict": "extraction_error",
        "issues": [
          "Incorrect base_offset for results group: listed as 4, which would overlap with the sensor group. Must be 4 + (numSensor * 4)."
        ]
      },
      {
        "source": "u-blox-F9-DBD-1.30_InterfaceDescription_UBX-23006360",
        "verdict": "correct",
        "issues": [
          "Minor typo in drvFileName description ('O' instead of '0')."
        ]
      },
      {
        "source": "u-blox-F9-LAP-1.50_InterfaceDescription_UBXDOC-963802114-13052",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox8-M8_ReceiverDescrProtSpec_UBX-13003221",
        "verdict": "valid_variation",
        "issues": [
          "drvVer bitfield order (Min 0-3, Maj 4-7) differs from F9 generation (Maj 0-3, Min 4-7)."
        ]
      },
      {
        "source": "M9-ADR-5.10_InterfaceDescription_UBX-20048972_C1-Public",
        "verdict": "extraction_error",
        "issues": [
          "Incorrect base_offset for result_items group: listed as 4, which would overlap with the sensor group."
        ]
      }
    ],
    "valid_variations": [
      {
        "sources": [
          "u-blox8-M8_ReceiverDescrProtSpec_UBX-13003221"
        ],
        "structure": {
          "sensor_group": {
            "drvVer_bitfield": {
              "drvVerMin": {
                "bit_start": 0,
                "bit_end": 3
              },
              "drvVerMaj": {
                "bit_start": 4,
                "bit_end": 7
              }
            }
          }
        },
        "reason": "In the u-blox M8 protocol generation, the nibbles for the driver major and minor versions are swapped compared to the M9 and F9 protocol generations."
      }
    ],
    "reasoning": "The UBX-MON-SPT message consists of a fixed 4-byte header followed by two dynamic repeated blocks. The first block tracks sensors (4 bytes each) and the second tracks test results (12 bytes each). Extractions 1, 2, 4, 5, and 6 are structurally correct regarding offsets. Extractions 3 and 7 fail to account for the first repeated group in the base offset of the second group. A consistent variation exists in the bitfield definition of 'drvVer' between the M8 generation (Extraction 6) and the F9/M9 generations (Extractions 1, 2, 4, 5, 7), which is a known evolution in u-blox documentation."
  }
}