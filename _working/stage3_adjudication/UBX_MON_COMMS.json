{
  "message_name": "UBX-MON-COMMS",
  "num_extractions": 17,
  "adjudication": {
    "canonical_structure": {
      "name": "UBX-MON-COMMS",
      "class_id": "0x0a",
      "message_id": "0x36",
      "message_type": "periodic_polled",
      "payload_length": {
        "variable": {
          "base": 8,
          "formula": "8 + nPorts * 40"
        }
      },
      "payload": [
        {
          "byte_offset": 0,
          "data_type": "U1",
          "name": "version",
          "description": "Message version (0x00 for this version)"
        },
        {
          "byte_offset": 1,
          "data_type": "U1",
          "name": "nPorts",
          "description": "Number of ports included"
        },
        {
          "byte_offset": 2,
          "data_type": "X1",
          "name": "txErrors",
          "description": "TX error bitmask",
          "bitfields": [
            {
              "bit_offset": 0,
              "name": "mem",
              "description": "Memory Allocation error"
            },
            {
              "bit_offset": 1,
              "name": "alloc",
              "description": "Allocation error (TX buffer full)"
            },
            {
              "bit_offset": 2,
              "name": "outputPort",
              "length": 3,
              "description": "Output port identifier (available in newer firmware versions)"
            }
          ]
        },
        {
          "byte_offset": 3,
          "data_type": "U1",
          "name": "reserved0",
          "reserved": true
        },
        {
          "byte_offset": 4,
          "data_type": {
            "array_of": "U1",
            "count": 4
          },
          "name": "protIds",
          "description": "The identifiers of the protocols reported in the msgs array (e.g., 0: UBX, 1: NMEA, 5: RTCM3)"
        },
        {
          "byte_offset": 8,
          "data_type": "GROUP",
          "name": "portInfo",
          "num_repeats_field": "nPorts",
          "fields": [
            {
              "byte_offset": 0,
              "data_type": "U2",
              "name": "portId",
              "description": "Unique identifier for the port"
            },
            {
              "byte_offset": 2,
              "data_type": "U2",
              "name": "txPending",
              "unit": "bytes",
              "description": "Number of bytes pending in transmitter buffer"
            },
            {
              "byte_offset": 4,
              "data_type": "U4",
              "name": "txBytes",
              "unit": "bytes",
              "description": "Number of bytes ever sent"
            },
            {
              "byte_offset": 8,
              "data_type": "U1",
              "name": "txUsage",
              "unit": "%",
              "description": "Maximum usage transmitter buffer during the last sysmon period"
            },
            {
              "byte_offset": 9,
              "data_type": "U1",
              "name": "txPeakUsage",
              "unit": "%",
              "description": "Maximum usage transmitter buffer"
            },
            {
              "byte_offset": 10,
              "data_type": "U2",
              "name": "rxPending",
              "unit": "bytes",
              "description": "Number of bytes in receiver buffer"
            },
            {
              "byte_offset": 12,
              "data_type": "U4",
              "name": "rxBytes",
              "unit": "bytes",
              "description": "Number of bytes ever received"
            },
            {
              "byte_offset": 16,
              "data_type": "U1",
              "name": "rxUsage",
              "unit": "%",
              "description": "Maximum usage receiver buffer during the last sysmon period"
            },
            {
              "byte_offset": 17,
              "data_type": "U1",
              "name": "rxPeakUsage",
              "unit": "%",
              "description": "Maximum usage receiver buffer"
            },
            {
              "byte_offset": 18,
              "data_type": "U2",
              "name": "overrunErrs",
              "description": "Number of 100 ms timeslots with overrun errors"
            },
            {
              "byte_offset": 20,
              "data_type": {
                "array_of": "U2",
                "count": 4
              },
              "name": "msgs",
              "unit": "msg",
              "description": "Number of successfully parsed messages for each protocol"
            },
            {
              "byte_offset": 28,
              "data_type": {
                "array_of": "U1",
                "count": 8
              },
              "name": "reserved1",
              "reserved": true
            },
            {
              "byte_offset": 36,
              "data_type": "U4",
              "name": "skipped",
              "unit": "bytes",
              "description": "Number of skipped bytes"
            }
          ]
        }
      ]
    },
    "canonical_confidence": "high",
    "extraction_verdicts": [
      {
        "source": "u-blox-F9-TIM-2.20_InterfaceDescription_UBX-21048598",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "F9-HPS120_Interfacedescription_UBX-19056845",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-X20-HPG-2.02_InterfaceDescription_UBXDOC-304424225-19967",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-M10-SPG-5.30_InterfaceDescription_UBXDOC-304424225-20395",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox_ZED-F9H_InterfaceDescription_(UBX-19030118)",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-HPS-1.30_InterfaceDescription_UBX-22010984",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F10-SPG-6.00_InterfaceDescription_UBX-23002975",
        "verdict": "valid_variation",
        "issues": [
          "Identifies bytes 4-7 as reserved rather than protIds, which is correct for F10 series documentation."
        ]
      },
      {
        "source": "u-blox-F9-TIM-2.25_InterfaceDescription_UBXDOC-963802114-13231",
        "verdict": "valid_variation",
        "issues": [
          "Combines byte 3 (reserved) and bytes 4-7 (protIds) into a single 5-byte reserved block, matching recent TIM firmware documentation."
        ]
      },
      {
        "source": "u-blox-F9-LAP-1.30_InterfaceDescription_UBX-22005157",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-DBD-1.30_InterfaceDescription_UBX-23006360",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-M9-SPG-4.04_InterfaceDescription_UBX-21022436",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-HPG-1.13_InterfaceDescription_UBX-21023318",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-LAP-1.50_InterfaceDescription_UBXDOC-963802114-13052",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-M10-SPG-5.10_InterfaceDescription_UBX-21035062",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-HPG-1.32_InterfaceDescription_UBX-22008968",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "M9-ADR-5.10_InterfaceDescription_UBX-20048972_C1-Public",
        "verdict": "correct",
        "issues": []
      },
      {
        "source": "u-blox-F9-HPG-L1L5-1.40_InterfaceDescription_UBX-23006991",
        "verdict": "correct",
        "issues": []
      }
    ],
    "valid_variations": [
      {
        "sources": [
          "u-blox-F10-SPG-6.00_InterfaceDescription_UBX-23002975"
        ],
        "structure": {
          "byte_offset": 4,
          "length": 4,
          "name": "reserved1",
          "description": "Protocol IDs field is deprecated and marked as reserved in F10 firmware."
        },
        "reason": "Specific architecture changes for F10 generation."
      },
      {
        "sources": [
          "u-blox-X20-HPG-2.02_InterfaceDescription_UBXDOC-304424225-19967",
          "u-blox-M10-SPG-5.30_InterfaceDescription_UBXDOC-304424225-20395",
          "u-blox-F9-TIM-2.25_InterfaceDescription_UBXDOC-963802114-13231"
        ],
        "structure": {
          "txErrors_bitfield": {
            "bits_2_4": "outputPort"
          }
        },
        "reason": "Extended reporting in newer firmware providing the specific output port index from which the MON-COMMS message was emitted."
      }
    ],
    "reasoning": "The UBX-MON-COMMS message is highly consistent across generations (M9, F9, M10, F10). The primary differences involve the bitmask in the 'txErrors' field (which gained 'outputPort' bits in newer firmwares) and the labeling of the four bytes at offset 4 ('protIds' vs 'Reserved'). In F10 and some specific TIM versions, these bytes are reserved, whereas in standard F9/M9, they define the protocol indices used in the repeated group. All extractions accurately captured the 40-byte repeated group structure."
  }
}