{
  "description": "Known protocol inconsistencies and notes discovered during validation",
  "updated": "2025-12-30",
  "usage": "These notes are also embedded in validated JSON files as 'annotations' for code generators to include as comments or handle specially.",
  "notes": [
    {
      "message": "UBX-MGA-INI-TIME-UTC",
      "protocol_version": 0,
      "issue": "Field added without version bump",
      "details": "Offset 11 changed from 'reserved0' (U1) to 'bitfield0' (X1) with 'trustedSource' bit in newer firmware, but message version remained 0x00.",
      "affected_field": {
        "offset": 11,
        "old": {"name": "reserved0", "type": "U1", "description": "Reserved"},
        "new": {"name": "bitfield0", "type": "X1", "bitfield": {"trustedSource": "Time is provided from a trusted source. Potentially usable for replay attack detection"}}
      },
      "older_manuals": ["F9-HPS-1.21", "F9-HPS120", "F9-HPG-1.13", "F9-HPG-1.32", "M9-ADR-5.10", "M9-MDR-2.10", "LAP120", "ZED-F9H"],
      "newer_manuals": ["F9-HPG-1.50", "F9-HPG-1.51", "F9-HPS-1.30", "F9-HPS-1.40", "F9-LAP-1.30", "F9-LAP-1.50", "F10-SPG-6.00", "M10-SPG-5.10", "M10-SPG-5.30", "M9-SPG-4.04", "X20-HPG-2.00", "X20-HPG-2.02"],
      "recommendation": "Use newer structure with trustedSource bitfield"
    },
    {
      "message": "UBX-MGA-INI-TIME-GNSS",
      "protocol_version": 0,
      "issue": "Field added without version bump",
      "details": "Same issue as MGA-INI-TIME-UTC - offset 11 changed from reserved to bitfield with trustedSource.",
      "affected_field": {
        "offset": 11,
        "old": {"name": "reserved0", "type": "U1"},
        "new": {"name": "bitfield0", "type": "X1", "bitfield": {"trustedSource": "Time is provided from a trusted source"}}
      },
      "older_manuals": ["F9-HPS-1.21", "F9-HPS120", "F9-HPG-1.13", "F9-HPG-1.32", "M9-ADR-5.10", "M9-MDR-2.10", "LAP120", "ZED-F9H"],
      "newer_manuals": ["F9-HPG-1.50", "F9-HPG-1.51", "F9-HPS-1.30", "F9-HPS-1.40", "F9-LAP-1.30", "F9-LAP-1.50", "F10-SPG-6.00", "M10-SPG-5.10", "M10-SPG-5.30", "M9-SPG-4.04", "X20-HPG-2.00", "X20-HPG-2.02"],
      "recommendation": "Use newer structure with trustedSource bitfield",
      "canonical_source": "X20-HPG-2.02"
    },
    {
      "message": "UBX-CFG-NAVX5",
      "protocol_version": 2,
      "issue": "Reserved field layout changed without version bump",
      "details": "Offset 28-29 changed from 'reserved6[2]' (U1[2]) to separate 'reserved6' (U1) and 'reserved7' (U1) in newer firmware.",
      "affected_field": {
        "offset": 28,
        "old": {"name": "reserved6", "type": "U1[2]"},
        "new": {"name": "reserved6", "type": "U1"}
      },
      "older_manuals": ["F9-HPG-1.13", "F9-HPG-1.32", "F9-HPG-L1L5-1.40", "M9-SPG-4.04", "ZED-F9H"],
      "newer_manuals": ["F9-HPG-1.50", "F9-HPG-1.51"],
      "recommendation": "Use newer structure with separate reserved bytes",
      "canonical_source": "F9-HPG-1.51"
    }
  ]
}
