{
  "name": "UBX-MON-COMMS",
  "class_id": "0x0a",
  "message_id": "0x36",
  "message_type": "periodic_polled",
  "description": "Communication port information",
  "payload": {
    "length": {
      "variable": {
        "base": 8,
        "formula": "8 + nPorts * 40"
      }
    },
    "fields": [
      {
        "name": "version",
        "byte_offset": 0,
        "data_type": "U1",
        "fixed_value": 0,
        "description": "Message version (0x00 for this version)"
      },
      {
        "name": "nPorts",
        "byte_offset": 1,
        "data_type": "U1",
        "description": "Number of ports included"
      },
      {
        "name": "txErrors",
        "byte_offset": 2,
        "data_type": "X1",
        "description": "TX error bitmask (bit 0 U:1: mem - Memory Allocation error; bit 1 U:1: alloc - Allocation error (TX buffer full))"
      },
      {
        "name": "reserved0",
        "byte_offset": 3,
        "data_type": "U1",
        "reserved": true,
        "description": "Reserved"
      },
      {
        "name": "protIds",
        "byte_offset": 4,
        "data_type": {
          "array_of": "U1",
          "count": 4
        },
        "description": "The identifiers of the protocols reported in the msgs array. 0: UBX, 1: NMEA, 2: RTCM2, 5: RTCM3, 6: SPARTN, 0xFF: No protocol reported."
      },
      {
        "name": "portId",
        "byte_offset": 8,
        "data_type": "U2",
        "description": "Unique identifier for the port. See section Communications ports in the integration manual for details."
      },
      {
        "name": "txPending",
        "byte_offset": 10,
        "data_type": "U2",
        "unit": "bytes",
        "description": "Number of bytes pending in transmitter buffer"
      },
      {
        "name": "txBytes",
        "byte_offset": 12,
        "data_type": "U4",
        "unit": "bytes",
        "description": "Number of bytes ever sent"
      },
      {
        "name": "txUsage",
        "byte_offset": 16,
        "data_type": "U1",
        "unit": "%",
        "description": "Maximum usage transmitter buffer during the last sysmon period"
      },
      {
        "name": "txPeakUsage",
        "byte_offset": 17,
        "data_type": "U1",
        "unit": "%",
        "description": "Maximum usage transmitter buffer"
      },
      {
        "name": "rxPending",
        "byte_offset": 18,
        "data_type": "U2",
        "unit": "bytes",
        "description": "Number of bytes in receiver buffer"
      },
      {
        "name": "rxBytes",
        "byte_offset": 20,
        "data_type": "U4",
        "unit": "bytes",
        "description": "Number of bytes ever received"
      },
      {
        "name": "rxUsage",
        "byte_offset": 24,
        "data_type": "U1",
        "unit": "%",
        "description": "Maximum usage receiver buffer during the last sysmon period"
      },
      {
        "name": "rxPeakUsage",
        "byte_offset": 25,
        "data_type": "U1",
        "unit": "%",
        "description": "Maximum usage receiver buffer"
      },
      {
        "name": "overrunErrs",
        "byte_offset": 26,
        "data_type": "U2",
        "description": "Number of 100 ms timeslots with overrun errors"
      },
      {
        "name": "msgs",
        "byte_offset": 28,
        "data_type": {
          "array_of": "U2",
          "count": 4
        },
        "unit": "msg",
        "description": "Number of successfully parsed messages for each protocol. The reported protocols are identified through the protids field."
      },
      {
        "name": "reserved1",
        "byte_offset": 36,
        "data_type": {
          "array_of": "U1",
          "count": 8
        },
        "reserved": true,
        "description": "Reserved"
      },
      {
        "name": "skipped",
        "byte_offset": 44,
        "data_type": "U4",
        "unit": "bytes",
        "description": "Number of skipped bytes"
      }
    ]
  }
}